<!DOCTYPE html>
<html>
<head>
	<title> Take a Hike </title>


	<!-- firebase -->
<script src="https://www.gstatic.com/firebasejs/4.5.0/firebase.js"></script>

<script>
var config ={

	apiKey: "AIzaSyBdJyQWscf12G0AHe0UcI079igredcakD4",
    authDomain: "class-thing.firebaseapp.com",
    databaseURL: "https://class-thing.firebaseio.com",
    projectId: "class-thing",
    storageBucket: "class-thing.appspot.com",
    messagingSenderId: "742683233065"
  };

  firebase.initializeApp(config);
</script>
</head>
<body>

	<div id = "app">
	<h2> Input your email and password. </h2>
	<input id = "txtEmail" type="email" placeholder="Email">
	<input id="txtPassword" type = "password" placeholder="Password">
	<button id="btnLogin" class="btn btn-action">Log in </button>
	<button id="btnSignUp" class="btn btn-secondary"> Sign Up </button>
	<button id="btnLogout" class="btn btn-action hide"> Log out </button>
	</div>
	<script> 


		(function() {
var app=document.getElementById("app");
	app.signIn=function (){
		var email = app.email;
		var password = app.password;

		if(!email || !password) {
			return console.log("email and password required")
		};
// sign in user
firebase.auth().signInWithEmailAndPassword (email, password)
.catch (function (error){
	// handle errors here.
	var errorCode = error.code;
	var errorMessage = error.message;
	console.log ("signIn error", error);

});
};
app.register = function () {
	var email=app.email;
	var password = app.password;
	if (!email || !password) {
		return console.log("email and password required");
	}

// Register user
firebase.auth().createuserWithEmailAndPassword (email, password)
.catch (function (error) {
	console.log ("register error", error);
	if (error.code === "auth/email-already-in-use") {
		var credential = firebase.auth.EmailAuthProvider.credential(email, password);

		};
app.signOut = function () {
	firebase.auth().signOut();
};

firebase.auth().onAuthStateChanged(function(user){
app.user=user;
console.log("user", user);

	})


	

</body>
</html>



